import SplunkSearch from '../../components/SplunkSearch.js'
import Link from '@splunk/react-ui/Link'

## What is in a Bucket?
<img width="50%" src="/static/app/splunk4champions2/images/inabucket23.png"/>

A bucket is a file system directory containing a portion of a Splunk Eanterprise index. A Splunk Enterprise index typically consists of many buckets, organized by age.
Real directory with weather data index: 
<img width="100%" src="/static/app/splunk4champions2/images/directory.png"/>
Size of the files depends on data. In this case the tsidx files are 225MB for 78MB of compressed data. 
I used zstd and uncompressed journal.zst and the uncompressed data was 1,4GB in size. 
Merged lexicon file in the directory is a part of search index too, it is used to support typeahead. It is also required by walklex command. 

in

Note: The bucket search command is not related to the index buckets described here. Its purpose is to put continuous numerical values into discrete sets or bins. The bucket command is actually an alias for the bin command. See the bin command in the Search Reference.

___

* <Link to="https://docs.splunk.com/Splexicon:Bloomfilter" openInNewContext>"Bloomfilter in Splexicon"</Link>
* <Link to="https://docs.splunk.com/Splexicon:Tsidxfile" openInNewContext>"TSIDX in Splexicon"</Link>
* <Link to="https://docs.splunk.com/Splexicon:Rawdatafile" openInNewContext>"Raw data / Journal in Splexicon"</Link>


## Bloomfilter
A data structure that you use to test whether an element is a member of a set. 
Splunk Enterprise uses bloom filters to decrease the time it requires to retrieve events from the index. This strategy is effective when you search for rare terms.
<img width="80%" src="/static/app/splunk4champions2/images/bloomfilter.png"/>


Best way to understand the bloomfilter is to explore it in the interactive demo: 
* <Link to="https://www.jasondavies.com/bloomfilter/" openInNewContext>"Interactive Bloom-filter-Demo"</Link>


## TSIDX file
A TSIDX file in Splunk is a time-series index file that stores an index of keywords or tokens extracted from event data. 
It maps each unique keyword to its locations in the raw data file (journal.gz). 
This indexing allows Splunk to quickly find and retrieve relevant events during searches, 
significantly speeding up query performance by avoiding the need to scan or decompress raw data files.

* It associates keywords with references to event locations.
* It works with the raw data file to enable fast searches.
* The TSIDX file makes search operations much more efficient by acting as an advanced, keyword-to-location directory.


<img width="80%" src="/static/app/splunk4champions2/images/tsidx1.png"/>

## journal.gz OR .zst

A compressed file in an index bucket that contains event data, as well as journal information that the indexer can use to reconstitute the indexâ€™s index files.
The rawdata file and the index files together constitute the files in a bucket. 

<img width="80%" src="/static/app/splunk4champions2/images/journal1.png"/>