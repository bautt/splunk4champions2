
import SplunkSearch from '../../components/SplunkSearch.js'
import Link from '@splunk/react-ui/Link'

## Using mcatalog command
<SplunkSearch earliest="-30d" latest="now" spl={`| mcatalog values(metric_name) WHERE index=_*`}></SplunkSearch>

## Using mstats command
<SplunkSearch earliest="-30d" latest="now" spl={`| mstats avg("spl.mlog.thruput.thruput.average_kbps") prestats=true WHERE "index"="_metrics" span=15m
| timechart avg("spl.mlog.thruput.thruput.average_kbps") AS Avg span=15m
| sort - _time`}>
</SplunkSearch>

## Using mpreview command
Use mpreview to get an idea of the kinds of metric time series that are stored in your metrics indexes and to troubleshoot your metrics data.
<SplunkSearch earliest="-30d" latest="now" spl={` | mpreview index=_metrics filter="group=dutycycle name=ingest thread=udp"`}> </SplunkSearch>

## Best way to work with metrics is Analytics Workspace 

Just make sure you set "data ingested in last X days" setting according to your data and select the proper time setting. 

<img src="/static/app/splunk4champions2/images/Analytics1.png" width="600px"/>

From here you can set most of the settings, than save to dashboard or open in the search and fine tune your search. 
<img src="/static/app/splunk4champions2/images/Analytics2.png" width="600px"/>

